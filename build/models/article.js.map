{"version":3,"sources":["../../api/v1/models/article.js"],"names":["query","db","Article","findOneArticle","values","queryText","row","then","res","rows","err","findAllArticles","updateArticle","saveArticle","deleteArticle","value","deleteAllArticles"],"mappings":";;;;;;;;;AAAA;;IAEQA,K,GAAUC,iB,CAAVD,K;AAER,IAAME,OAAO,GAAG;AACdC,EAAAA,cADc,0BACCC,MADD,EACS;AACrB,QAAMC,SAAS,GAAG,oCAAlB;AACA,QAAMC,GAAG,GAAGN,KAAK,CAACK,SAAD,EAAYD,MAAZ,CAAL,CACTG,IADS,CACJ,UAACC,GAAD;AAAA,aAASA,GAAG,CAACC,IAAJ,CAAS,CAAT,CAAT;AAAA,KADI,WAEH,UAACC,GAAD,EAAS;AACd,YAAMA,GAAN;AACD,KAJS,CAAZ;AAKA,WAAOJ,GAAP;AACD,GATa;AAWdK,EAAAA,eAXc,6BAWI;AAChB,QAAMN,SAAS,GAAG,wBAAlB;AACA,QAAMI,IAAI,GAAGT,KAAK,CAACK,SAAD,EAAY,EAAZ,CAAL,CACVE,IADU,CACL,UAACC,GAAD;AAAA,aAASA,GAAG,CAACC,IAAb;AAAA,KADK,WAEJ,UAACC,GAAD,EAAS;AACd,YAAMA,GAAN;AACD,KAJU,CAAb;AAKA,WAAOD,IAAP;AACD,GAnBa;AAqBdG,EAAAA,aArBc,yBAqBAR,MArBA,EAqBQ;AACpB,QAAMC,SAAS,GAAG,kEAAlB;AACA,QAAMC,GAAG,GAAGN,KAAK,CAACK,SAAD,EAAYD,MAAZ,CAAL,CACTG,IADS,CACJ,UAACC,GAAD;AAAA,aAASA,GAAG,CAACC,IAAJ,CAAS,CAAT,CAAT;AAAA,KADI,WAEH,UAACC,GAAD,EAAS;AACd,YAAMA,GAAN;AACD,KAJS,CAAZ;AAKA,WAAOJ,GAAP;AACD,GA7Ba;AA+BdO,EAAAA,WA/Bc,uBA+BFT,MA/BE,EA+BM;AAClB,QAAMC,SAAS,yHAAf;AAGA,QAAMC,GAAG,GAAGN,KAAK,CAACK,SAAD,EAAYD,MAAZ,CAAL,CACTG,IADS,CACJ,UAACC,GAAD;AAAA,aAASA,GAAG,CAACC,IAAJ,CAAS,CAAT,CAAT;AAAA,KADI,WAEH,UAACC,GAAD,EAAS;AACd,YAAMA,GAAN;AACD,KAJS,CAAZ;AAKA,WAAOJ,GAAP;AACD,GAzCa;AA2CdQ,EAAAA,aA3Cc,yBA2CAC,KA3CA,EA2CO;AACnB,QAAMV,SAAS,GAAG,8CAAlB;AACA,QAAMC,GAAG,GAAGN,KAAK,CAACK,SAAD,EAAYU,KAAZ,CAAL,CACTR,IADS,CACJ,UAACC,GAAD;AAAA,aAASA,GAAG,CAACC,IAAJ,CAAS,CAAT,CAAT;AAAA,KADI,WAEH,UAACC,GAAD,EAAS;AACd,YAAMA,GAAN;AACD,KAJS,CAAZ;AAKA,WAAOJ,GAAP;AACD,GAnDa;AAqDdU,EAAAA,iBArDc,+BAqDM;AAClB,QAAMX,SAAS,GAAG,kCAAlB;AACA,QAAMI,IAAI,GAAGT,KAAK,CAACK,SAAD,EAAY,EAAZ,CAAL,CACVE,IADU,CACL,UAACC,GAAD;AAAA,aAASA,GAAG,CAACC,IAAb;AAAA,KADK,WAEJ,UAACC,GAAD,EAAS;AACd,YAAMA,GAAN;AACD,KAJU,CAAb;AAKA,WAAOD,IAAP;AACD;AA7Da,CAAhB;eAgEeP,O","sourcesContent":["import db from './index';\r\n\r\nconst { query } = db;\r\n\r\nconst Article = {\r\n  findOneArticle(values) {\r\n    const queryText = 'SELECT * FROM articles WHERE id=$1';\r\n    const row = query(queryText, values)\r\n      .then((res) => res.rows[0])\r\n      .catch((err) => {\r\n        throw err;\r\n      });\r\n    return row;\r\n  },\r\n\r\n  findAllArticles() {\r\n    const queryText = 'SELECT * FROM articles';\r\n    const rows = query(queryText, [])\r\n      .then((res) => res.rows)\r\n      .catch((err) => {\r\n        throw err;\r\n      });\r\n    return rows;\r\n  },\r\n\r\n  updateArticle(values) {\r\n    const queryText = 'UPDATE articles SET title=$1, article=$2 WHERE ID=$3 RETURNING *';\r\n    const row = query(queryText, values)\r\n      .then((res) => res.rows[0])\r\n      .catch((err) => {\r\n        throw err;\r\n      });\r\n    return row;\r\n  },\r\n\r\n  saveArticle(values) {\r\n    const queryText = `INSERT INTO\r\n      articles (ID, title, article, createdOn, authorId)\r\n      VALUES ($1, $2, $3, $4, $5) RETURNING *`;\r\n    const row = query(queryText, values)\r\n      .then((res) => res.rows[0])\r\n      .catch((err) => {\r\n        throw err;\r\n      });\r\n    return row;\r\n  },\r\n\r\n  deleteArticle(value) {\r\n    const queryText = 'DELETE FROM articles WHERE ID=$1 RETURNING *';\r\n    const row = query(queryText, value)\r\n      .then((res) => res.rows[0])\r\n      .catch((err) => {\r\n        throw err;\r\n      });\r\n    return row;\r\n  },\r\n\r\n  deleteAllArticles() {\r\n    const queryText = 'DELETE FROM articles RETURNING *';\r\n    const rows = query(queryText, [])\r\n      .then((res) => res.rows)\r\n      .catch((err) => {\r\n        throw err;\r\n      });\r\n    return rows;\r\n  },\r\n};\r\n\r\nexport default Article;\r\n"],"file":"article.js"}